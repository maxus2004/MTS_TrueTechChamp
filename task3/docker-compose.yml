services:
  demo-client:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: demo-client
    ports:
      - "5555:5555/udp"  # —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
      - "5600:5600"      # —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è TCP/UDP
    environment:
      # –∞–¥—Ä–µ—Å —Ö–æ—Å—Ç–∞, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–º–∞–Ω–¥—ã:
      - CMD_HOST=host.docker.internal # –¥–ª—è windows/mac
      # - TEL_HOST=127.0.0.1            # linux
      - CMD_PORT=5555

      # –∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∫–ª–∏–µ–Ω—Ç —Å–ª—É—à–∞–µ—Ç —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é:
      - TEL_HOST=0.0.0.0              # –¥–ª—è windows/mac
      # - TEL_HOST=127.0.0.1            # linux

      - TEL_PORT=5600
      - PROTO=tcp
    volumes:
      - .:/app
    working_dir: /app
    command: python demo.py
    # extra_hosts: # üëà –≤–∞–∂–Ω–æ –¥–ª—è Linux
    #  - "host.docker.internal:host-gateway"